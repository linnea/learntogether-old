/* Learn Together minified JS file */var userModelApp=angular.module("LmsUserModel",[]);userModelApp.service("UserModelManager",["UserModelService","$q","$log",function(a,b,c){"use strict";function d(a){return{messageCode:"NOT_AUTHENTICATED",message:"Could not authenticate the user",causeBy:a}}function e(){f||(f=a.getUserAuthorization().then(function(){return g.isLoaded=!0,g.userRoles=["Instructor"],g},function(){return c.error("Could not authenticate the user because :"+JSON.stringify(cause)),g.isLoaded=!0,g.failureCause=d(cause),b.reject(g.failureCause)}))}var f,g={isLoaded:!0,isAuthenticated:!0,name:null,email:null,roles:[]};return g.getRoles=function(){return g.isAuthenticated?g.userRoles:void 0},g.hasRole=function(a){return g.isAuthenticated&&angular.isArray(g.userRoles)&&_.indexOf(g.userRoles,a)>=0?!0:!1},g.isUserSuperUser=function(){return g.hasRole("ADMIN")},g.whenInitialized=function(){return f},e(),g}]);var userModelApp=angular.module("LmsUserModel");userModelApp.service("UserModelService",["$q","$http",function(a,b){var c,d=a.defer();return c={getUserAuthorization:function(){var a=b.get("/api/auth/current");return a.then(function(a){d.resolve(a)},function(a){d.reject(a)}),d.promise}}}]);var userAuthorizationApp=angular.module("LmsAuthorizationModule",[]);userAuthorizationApp.directive("lmsShowForRole",["UserModelManager",function(a){function b(b){var c=!1;return angular.isArray(b)&&b.forEach(function(b){a.hasRole(b)&&(c=!0)}),c}return{transclude:"true",restrict:"A",scope:{lmsVisibleToRole:"="},link:function(c,d){c.$watch("lmsVisibleToRole",function(c){a.whenInitialized().then(function(){d&&(b(c)?d.css("display","inherit"):d.css("display","none"))},function(){})})}}}]);var userProfileModule=angular.module("UserProfile",[]);userProfileModule.controller("UserProfileController",["$scope","UserProfileManager",function(a,b){a.manager=b,a.getUserId=function(){a.manager.getUserId()}}]);var userProfileModule=angular.module("UserProfile");userProfileModule.factory("UserProfileManager",["UserProfileService",function(a){var b;return b={userId:null,getUserId:function(){var b=this;a.getUserId().then(function(a){b.userId=a.data.data.email},function(a,c){b.userId="Error: "+c})}}}]);var userProfileModule=angular.module("UserProfile");userProfileModule.service("UserProfileService",["$q","$http",function(a,b){var c,d=a.defer();return c={getUserId:function(){var a=b.get("/api/users/current");return a.then(function(a){d.resolve(a)},function(a){d.reject(a.status)}),d.promise}}}]);var app=angular.module("LearnTogetherMainApp",["ngRoute","mainRoutes","UserProfile","LmsUserModel","LmsAuthorizationModule"]);angular.module("mainRoutes",[]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/user-profile",{templateUrl:"/static/private/apps/main/views/UserProfile.html",controller:"UserProfileController"}),b.html5Mode(!0)}]);