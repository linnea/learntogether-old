/* Learn Together minified JS file */!function(){var a=angular.module("AppConstants",[]);a.constant("UserRoles",{userRoles:{admin:300,leader:200,user:100}})}(),function(){angular.module("DynamicStaticFileInjector",[])}(),function(){var a=angular.module("LmsUserModel",[]);a.service("UserModelManager",["UserModelService","$q","$log",function(a,b,c){"use strict";function d(a){return{messageCode:"NOT_AUTHENTICATED",message:"Could not authenticate the user",causeBy:a}}function e(){f||(f=a.getUserAuthorization().then(function(a){var b=a.data.data.user;return g.isLoaded=!0,g.firstName=b.firstName,g.lastName=b.lastName,g.isApproved=b.isApproved,g.isAdmin=b.isAdmin,g.email=b.email,g.role=b.role,g},function(){return c.error("Could not authenticate the user because :"+JSON.stringify(cause)),g.isLoaded=!0,g.failureCause=d(cause),b.reject(g.failureCause)}))}var f,g={isLoaded:!1,isApproved:!1,isAdmin:!1,firstName:null,lastName:null,email:null,role:null};return g.getRoles=function(){return g.isAuthenticated?g.role:void 0},g.hasRole=function(a){if(angular.isArray(g.role)){if(_.indexOf(g.role,a)>=0)return!0}else if(angular.equals(g.role,a))return!0;return!1},g.hasAuthorization=function(a){var b=!1;return angular.isArray(g.role)?g.role.forEach(function(c){c>=a&&(b=!0)}):g.role>=a&&(b=!0),b},g.isUserSuperUser=function(){return g.hasRole(300)},g.whenInitialized=function(){return f},e(),g}])}(),function(){var a=angular.module("LmsUserModel");a.service("UserModelService",["$q","$http",function(a,b){var c,d=a.defer();return c={getUserAuthorization:function(){var a=b.get("/api/auth/current");return a.then(function(a){d.resolve(a)},function(a){d.reject(a)}),d.promise}}}])}(),function(){var a=angular.module("LMSStepsCompleted",[]);a.directive("lmsStepsTracker",[function(){return{restrict:"A",scope:{stepObject:"="},templateUrl:"/static/private/apps/common/PartialViews/StepsCompleted.html",link:function(a){a.moveToStep=function(b){b.stepDetails.stepComplete&&(a.stepObject.currentStep=b.stepDetails.stepNo)},a.moveNextStep=function(){a.stepObject.currentStep++},a.isCurrentStep=function(b){return a.stepObject.currentStep===b.stepDetails.stepNo?!0:!1},a.isCompletedStep=function(a){return a.stepDetails.stepComplete}}}}])}(),function(){var a=angular.module("LmsAuthorizationModule",[]);a.directive("lmsShowForRole",["UserModelManager",function(a){function b(b){var c=!1;return angular.isArray(b)?roleList.forEach(function(b){a.hasAuthorization(b)&&(c=!0)}):b&&a.hasAuthorization(b)&&(c=!0),c}return{transclude:"true",restrict:"A",scope:{lmsVisibleToRole:"="},link:function(c,d){c.$watch("lmsVisibleToRole",function(c){a.whenInitialized().then(function(){d&&(b(c)?(d.removeClass("hidden"),d.addClass(300===a.role?"adminDiv":200===a.role?"leaderDiv":"userDiv")):d.addClass("hidden"))},function(){})})}}}])}(),function(){"use strict";angular.module("HomePage",["AppConstants"]).controller("HomePageController",["$scope","HomePageManager",function(a,b){a.manager=b}])}(),function(){"use strict";angular.module("HomePage").factory("HomePageManager",["HomePageService",function(){return{}}])}(),function(){"use strict";angular.module("HomePage").service("HomePageService",["$q","$http",function(){return{}}])}(),function(){var a=angular.module("UserProfile",["AppConstants"]);a.controller("UserProfileController",["$scope","UserProfileManager","UserRoles",function(a,b,c){a.manager=b,a.userRoles=c.userRoles,a.getUserId=function(){a.manager.getUserId()},a.trialStepObject={stepperItem:[{stepDetails:{stepNo:1,stepName:"Title",stepComplete:!0}},{stepDetails:{stepNo:2,stepName:"Description",stepComplete:!0}},{stepDetails:{stepNo:3,stepName:"Methods",stepComplete:!0}},{stepDetails:{stepNo:4,stepName:"Conclusions",stepComplete:!1}},{stepDetails:{stepNo:5,stepName:"Bilbliography",stepComplete:!1}},{stepDetails:{stepNo:6,stepName:"Other stuff",stepComplete:!1}}],currentStep:3}}])}(),function(){var a=angular.module("UserProfile");a.factory("UserProfileManager",["UserProfileService",function(a){var b;return b={userId:null,getUserId:function(){var b=this;a.getUserId().then(function(a){b.userId=a.data.data.user.email},function(a,c){b.userId="Error: "+c})}}}])}(),function(){var a=angular.module("UserProfile");a.service("UserProfileService",["$q","$http",function(a,b){var c,d=a.defer();return c={getUserId:function(){var a=b.get("/api/auth/current");return a.then(function(a){d.resolve(a)},function(a){d.reject(a.status)}),d.promise}}}])}(),function(){angular.module("LearnTogetherMainApp",["ngRoute","mainRoutes","HomePage","UserProfile","LmsUserModel","LmsAuthorizationModule","LMSStepsCompleted"])}(),function(){angular.module("mainRoutes",[]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/static/private/apps/main/views/HomePage.html",controller:"HomePageController"}).when("/user-profile",{templateUrl:"/static/private/apps/main/views/UserProfile.html",controller:"UserProfileController"}).otherwise("/"),b.html5Mode(!0)}])}();